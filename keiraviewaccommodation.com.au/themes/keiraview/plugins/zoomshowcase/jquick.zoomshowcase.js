/* --------------------------------------------- */
/* Author: http://codecanyon.net/user/CodingJack */
/* --------------------------------------------- */

;(function(l){function I(){var a=l(this),c=a.attr("data-googlefont");if(c){var b=l("#"+a.attr("id")+"_css"),e="#"+a.attr("id")+' {font-family: "'+c.split("::")[0].split("+").join(" ")+'"}';b.length?b.innerCSS(b.innerCSS()+"\n"+e):l('<style type="text/css" />').innerCSS(e).appendTo(l("head"));WebFont.load({google:{families:[c]},active:function(){new s(a)}})}else new s(a)}function s(a){var c=this.imgWidth=parseInt(a.attr("data-imagewidth"),10),b="yes"===a.attr("data-mobilecaptions"),e=a.children("div"), f=this.leg=e.length,d=[],h,g,j,q,k,m,n;if(!(g=4>f)){g=document.URL;m=0;g=g.substr(g.indexOf(":/")+7,10);q=g.length;for(k=0;k<q;k++)h=g.charAt(k),m+=h.charCodeAt(0);g=1037!==m}if(!g){for(m=0;m<f;m++){g=l("<div />").addClass("cj-zoom-caption");j=d[m]=e.eq(m);h=j.find("span");k=h.toArray();h=k.length;q=[];for(n=0;n<h;n++){var t=q,u=n,p=k[n],x=c,r=g,z=n,v=l("<span />").addClass("cj-zoom-caption-wrap"),w="yes"===p.attr("data-align"),s=parseInt(p.attr("data-x"),10),y=parseInt(p.attr("data-y"),10),A=p.attr("data-bgcolor"), E=p.attr("data-textcolor"),D=p.outerHeight(),F=p.outerWidth();w||v.addClass("cj-zoom-caption-scale");v.css({left:w?s:x-F-s,overflow:"hidden",height:D,top:y,width:0}).data({top:y,width:F,caption:p,height:D,alignLeft:w,rTop:(D+10)*z+20}).append(p).appendTo(r);if(p.attr("data-link"))p.addClass("cj-zoom-caption-link").on("click.cj",G);A&&v.css("background-color",A);E&&v.css("color",E);t[u]=v}g.appendTo(j);j.data("image",j.children("img"));h&&j.data("captions",q)}e=this.totalWidth=parseInt(a.attr("data-bannerwidth"), 10);g=this.imgHeight=parseInt(a.attr("data-imageheight"),10);j=e+(parseInt(j.css("border-left-width"),10)<<1);m=this.halfHeight=0.5*g|0;h=this.halfWidth=0.5*e|0;k=parseFloat(a.attr("data-backzoom"));q=this.quarterH=g*k|0;k=this.quarterW=c*k|0;t=parseFloat(a.attr("data-sidezoom"));n=this.halfH=g*t|0;t=this.halfW=c*t|0;a.width(j).height(g).data({banner:this,oWidth:j,oHeight:g});this.items=d;this.banner=a;this.easing=a.attr("data-easing");this.sideOpacity=parseFloat(a.attr("data-sideopacity"));this.randomize= "yes"===a.attr("data-randomizeitems");this.speed=parseInt(a.attr("data-animationspeed"),10);this.delay=parseInt(a.attr("data-autoplaydelay"),10);this.auto="yes"===a.attr("data-autoplay");this.isOn=0;this.toRight=1;this.toCenter=0;this.iLeg=this.toLeft=f-1;this.rightX=e-t;this.backX=h-(0.5*k|0);this.centerX=h-(0.5*c|0);this.sideY=m-(0.5*n|0);this.backY=m-(0.5*q|0);"yes"===a.attr("data-responsive")&&B&&(C[C.length]=[this,a.parent(),d,b,m,g],H(),l(window).on("resize.cj",H));this.init()}}function y(a, c){if(!a.isRunning){var b={duration:a.speed-125,ease:a.easing},e={display:"inline-block",opacity:1},f=a.captionOn,d=a.captions[f],h=d.data(),g=h.width;c&&(b.delay=250);a.captionOn++;h.alignLeft?(f<a.captionTotal-1?(b.onComplete=y,b.onCompleteParams=a):a.auto&&a.timeout(),e.width=0,d.css(e),d.animate({width:g},b)):(b.onUpdate=J,e.width=g,e.clip="rect(0px, "+g+"px , "+h.height+"px, "+g+"px)",d.data("params",[a,d]).css(e).tick(b))}}function J(a){var c=l(this).data("params"),b=c[0],c=c[1],e=c.data(), f=e.width;c.domElement().style.clip="rect(0px, "+f+"px, "+e.height+"px, "+f*(1-a)+"px)";1===a&&(b.captionOn<b.captionTotal?y(b):b.auto&&b.timeout())}function K(a){this.data("banner")["right"===a?"clickRight":"clickLeft"]()}function z(){this.data("cover").animate({opacity:0})}function w(){var a=this.data();a.cover.animate({opacity:a.banner.sideOpacity})}function G(){"no"===this.attr("data-target")?window.location=this.attr("data-link"):window.open(this.attr("data-link"))}function L(){var a=this.data("banner"); a.isOver=!0;clearTimeout(a.timer)}function M(){var a=this.data("banner");a.isOver=!1;a.isRunning||a.timeout()}function H(){for(var a=C.length,c,b,e,f,d,h,g,j,q,k;a--;){f=C[a];e=f[0];b=f[1];j=f[2];f=f[3];b=Math.min(b.width()/e.totalWidth,1).toFixed(2);d=1>b?1-parseFloat(b)+1:1;q=j?j.length:0;for(0.5>b&&(d=0.25<b?d+0.5:d+0.75);q--;)if(c=j[q].data("captions"))for(k=c.length;k--;)g=c[k],f?(h=1>b?g.data("rTop")*d:g.data("top"),g.css("top",h).domElement().style[B]="scale("+d+", "+d+")"):1>b?g.addClass("cj-zoom-hide-caption"): g.removeClass("cj-zoom-hide-caption");e=e.banner;f=e.data();e.width(f.oWidth*b).height(f.oHeight*b).domElement().style[B]="scale("+b+", "+b+")"}}var A,B,C=[],N=jQuick.ie8;l.fn("cjZoomShowcase",function(){return this.each(I)});s.prototype={init:function(){var a=this.banner,c=this.items,b=this.leg,e=[];if(this.randomize){var f=[],d;for(d=0;d<b;d++)f[d]=c[d];for(;0<f.length;)c=Math.random()*f.length|0,e[e.length]=f[c],f.splice(c,1);for(d=0;d<b;d++)a.append(e[d]);c=this.items=e}f={};d={};for(var h={}, g=this.halfH,j=this.halfW,q=this.sideY,k=this.backX,m=this.backY,n=this.quarterW,t=this.quarterH,u=this.imgWidth,p=this.imgHeight,x=this.sideOpacity,r;b--;){r=f.cover=l("<span />").addClass("cj-zoom-showcase-cover");e=c[b].append(r);d.visibility="visible";switch(b){case 0:d.top=0;d.zIndex=3;d.left=this.centerX;d.width=u;d.height=p;r.css("opacity",0);h.width=u;h.height=p;break;case 1:d.zIndex=1;d.top=q;d.left=this.rightX;d.width=j;d.height=g;h.width=j;h.height=g;r.css("opacity",x);e.css("cursor","pointer").on("mouseover.cj", z).on("mouseout.cj",w);break;case this.iLeg:d.left=0;d.zIndex=2;d.top=q;d.width=j;d.height=g;h.width=j;h.height=g;r.css("opacity",x);e.css("cursor","pointer").on("mouseover.cj",z).on("mouseout.cj",w);break;default:d.zIndex=0,d.top=m,d.left=k,d.width=n,d.height=t,d.visibility="hidden",r.css("opacity",0),h.width=n,h.height=t}r=e.children("img");r.css(h);f.banner=this;f.image=r;e.css(d).data(f)}if(this.auto)a.on("mouseenter.cj",L).on("mouseleave.cj",M);this.addEvents(!0)},timeout:function(){if(!this.isOver){var a= this;this.timer=setTimeout(function(){a.clickRight()},this.delay)}},clickLeft:function(a){a=a?this.data("banner"):this;clearTimeout(a.timer);a.isRunning=!0;var c=a.isOn,b=a.iLeg,e=a.toRight=c,f=a.items,d=a.toBack=c<b?c+1:0,c=a.toCenter=0<c?c-1:b,b=a.toLeft=0<c?c-1:b;f[c].off("click.cj",a.clickLeft);f[d].off("click.cj",a.clickRight);f[b].css("z-index",1);f[e].css("z-index",2);a.animate()},clickRight:function(a){a=a?this.data("banner"):this;clearTimeout(a.timer);a.isRunning=!0;var c=a.isOn,b=a.iLeg, e=a.items,f=a.toLeft=c,d=a.toBack=0<c?c-1:b,c=a.toCenter=c<b?c+1:0,b=a.toRight=c<b?c+1:0;e[c].off("click.cj",a.clickLeft);e[d].off("click.cj",a.clickRight);e[f].css("z-index",2);e[b].css("z-index",1);a.animate()},animate:function(){clearTimeout(this.timer);var a={duration:this.speed,ease:this.easing},c={cursor:"pointer",visibility:"visible"},b={zIndex:0,cursor:"auto"},e=this.sideOpacity,f=this.imgHeight,d=this.imgWidth,h=this.quarterW,g=this.quarterH,j=this.toCenter,q=this.sideY,k=this.halfW,m=this.halfH, n=this.items,l=n[this.toBack],u=n[this.toLeft],p=n[this.toRight],n=n[j],x=u.data(),r=p.data(),s=n.data(),v=l.data("cover");this.isOn=j;A&&this.banner.removeSwipe();u.off(".cj");p.off(".cj");l.off(".cj").css(b);b.zIndex=3;n.off(".cj").css(b);u.css(c).on("mouseover.cj",z).on("mouseout.cj",w);p.css(c).on("mouseover.cj",z).on("mouseout.cj",w);v.stop();v.css("opacity",e);if(this.captions){c=this.captions;b=c.length;if(N)for(;b--;)c[b].hide();else for(;b--;)c[b].fadeOut();delete this.captions}l.animate({left:this.backX, top:this.backY,width:h,height:g},a);l.data("image").animate({width:h,height:g},a);u.animate({left:0,top:q,width:k,height:m},a);x.image.animate({width:k,height:m},a);x.cover.animate({opacity:e},a);p.animate({left:this.rightX,top:q,width:k,height:m},a);r.image.animate({width:k,height:m},a);r.cover.animate({opacity:e},a);s.image.animate({width:d,height:f,opacity:1},a);s.cover.animate({opacity:0},a);a.onComplete=this.addEvents;n.animate({left:this.centerX,top:0,width:d,height:f},a)},addEvents:function(a){a= a?this:l(this).data("banner");var c=a.items,b=c[a.toCenter],e=b.attr("data-link"),f=b.data("captions");A&&a.banner.swipe(K);e&&b.on("click.cj",G).css("cursor","pointer");c[a.toLeft].on("click.cj",a.clickLeft);c[a.toRight].on("click.cj",a.clickRight);a.isRunning=!1;f?(a.captionOn=0,a.captions=f,a.captionTotal=f.length,y(a,!0)):this.auto&&this.timeout()}};l(document).ready(function(){A=l.touchEnabled;B=l.transforms();l(".cj-zoom-showcase").cjZoomShowcase()})})(jQuick);